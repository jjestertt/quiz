(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{19:function(e,t,n){e.exports={Preloader:"Preloader_Preloader__13zsU",inner:"Preloader_inner__1SMf8",one:"Preloader_one__1dTte","cssload-rotate-one":"Preloader_cssload-rotate-one__3X2V9",two:"Preloader_two__Q_uDB","cssload-rotate-two":"Preloader_cssload-rotate-two__2N_HN",three:"Preloader_three__2wnFm","cssload-rotate-three":"Preloader_cssload-rotate-three__14D_5"}},26:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__k9oZ1",open:"Drawer_open__3ZQEA",active:"Drawer_active__2oACK",logout:"Drawer_logout__1YKq6"}},31:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__21_pH",open:"MenuToggle_open__3GTM9"}},32:function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",error:"Button_error__A4xET",success:"Button_success__qdwm8",primary:"Button_primary__CVuDV"}},35:function(e,t,n){e.exports={Input:"Input_Input__SNRl4",invalid:"Input_invalid__1ZOur"}},36:function(e,t,n){e.exports={Auth:"Auth_Auth__7JmWy",authForm:"Auth_authForm__1ycbW"}},37:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__2THIz",QuizWrapper:"Quiz_QuizWrapper__2wTef"}},38:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__2OH8k",Question:"ActiveQuiz_Question__3-k9k"}},39:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__uovHA",error:"AnswerItem_error__2qb2c",success:"AnswerItem_success__XCXzE"}},40:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__2aARn",error:"FinishedQuiz_error__2PlTT",success:"FinishedQuiz_success__2EeEd"}},51:function(e,t,n){e.exports={Layout:"Layout_Layout__ACkHP"}},52:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f"}},53:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__2CeNk"}},54:function(e,t,n){e.exports={Select:"Select_Select__26ooE"}},55:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__EsJjC"}},57:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__1ulOJ"}},64:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(23),s=n.n(i),c=n(18),o=n(2),u="quiz/FETCH_QUIZ_START",l="quiz/FETCH_QUIZ_SUCCESS",d="quiz/FETCH_QUIZ_BY_ID_SUCCESS",j="quiz/SET_QUIZ_ERROR",h="quiz/QUIZ_SET_STATE",b="quiz/NEXT_QUESTION",p="quiz/QUIZ_FINISHED",f="quiz/QUIZ_RETRY",O="quizCreator/ADD_QUESTION",v="quizCreator/QUIZ_CLEAR",m="auth/AUTH_SUCCESS",x="auth/AUTH_LOGOUT",g={error:null,isFetch:!1,quizes:[],results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!0});case l:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,quizes:t.payload});case d:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,quiz:t.payload});case j:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,error:t.error});case h:return Object(o.a)(Object(o.a)({},e),{},{answerState:t.answerState,results:t.results});case b:return Object(o.a)(Object(o.a)({},e),{},{activeQuestion:e.activeQuestion+1,answerState:null});case p:return Object(o.a)(Object(o.a)({},e),{},{isFinished:!0});case f:return Object(o.a)(Object(o.a)({},e),{},{isFinished:!1,activeQuestion:0,answerState:null,results:{}});default:return e}},w=n(58),z={quiz:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(o.a)(Object(o.a)({},e),{},{quiz:[].concat(Object(w.a)(e.quiz),[t.newQuestion])});case v:return Object(o.a)(Object(o.a)({},e),{},{quiz:e.quiz.filter((function(){return!1}))});default:return e}},q={token:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{token:t.token});case x:return Object(o.a)(Object(o.a)({},e),{},{token:null});default:return e}},k=Object(c.c)({quiz:_,create:C,auth:y}),S=n(50),A=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):c.d)(Object(c.a)(S.a)),Q=Object(c.e)(k,A),T=(n(64),n(4)),I=n(14),F=n(15),N=n(17),E=n(16),L=n(51),H=n.n(L),D=n(31),M=n.n(D),V=n(0),R=function(e){var t=[M.a.MenuToggle,"fa"];return e.isOpen?(t.push(M.a.open),t.push("fa-times")):t.push("fa-bars"),Object(V.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},U=n(26),B=n.n(U),P=n(12),Z=n(52),X=n.n(Z),J=function(e){return Object(V.jsx)("div",{className:X.a.Backdrop,onClick:e.onClick})},W=n(32),K=n.n(W),Y=function(e){var t=[K.a.Button,K.a[e.type]];return Object(V.jsx)("button",Object(o.a)(Object(o.a)({onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e),{},{children:e.children}))},G=function(e){Object(N.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).renderLinks=function(t){return t.map((function(t,n){return Object(V.jsx)("li",{children:Object(V.jsx)(P.b,{exact:t.exact,to:t.to,activeClassName:B.a.active,onClick:e.props.onClick,children:t.label})},n)}))},e}return Object(F.a)(n,[{key:"render",value:function(){var e=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432",exact:!0},{to:"/auth",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",exact:!1}];return this.props.isAuth&&(e=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432",exact:!0},{to:"/quiz-creator",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442",exact:!1}]),Object(V.jsxs)(V.Fragment,{children:[this.props.isOpen&&Object(V.jsx)(J,{onClick:this.props.onClick}),Object(V.jsxs)("nav",{className:B.a.Drawer+" "+(this.props.isOpen&&B.a.open),children:[Object(V.jsx)("ul",{children:this.renderLinks(e)}),this.props.isAuth&&Object(V.jsx)(P.b,{to:"/logout",children:Object(V.jsx)(Y,{style:{marginLeft:20},type:"error",children:"\u0412\u044b\u0439\u0442\u0438"})})]})]})}}]),n}(a.a.Component),$=n(5),ee=n(7),te=n.n(ee),ne=n(13),re=n(25),ae=n.n(re),ie=function(e){var t=Object($.c)();return Object(r.useEffect)((function(){t(ce())}),[t]),Object(V.jsx)(T.a,{to:"/"})},se=function(e){return{type:m,token:e}},ce=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:x}},oe=function(e){return function(t){console.log("time autoLogout :"+e),setTimeout((function(){t(ce())}),1e3*e)}},ue=function(e){Object(N.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={menu:!1},e.menuToggleHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e}return Object(F.a)(n,[{key:"render",value:function(){return Object(V.jsxs)("div",{className:H.a.Layout,children:[Object(V.jsx)(G,{isOpen:this.state.menu,onClick:this.menuCloseHandler,isAuth:this.props.isAuth,authLogout:this.props.authLogout}),Object(V.jsx)(R,{isOpen:this.state.menu,onToggle:this.menuToggleHandler}),Object(V.jsx)("main",{children:this.props.children})]})}}]),n}(a.a.Component),le=Object($.b)((function(e){return{isAuth:!!e.auth.token}}),{authLogout:ce})(ue),de=n(53),je=n.n(de),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(Object(o.a)({value:""},e),{},{validation:t,valid:!t,touched:!1})},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required&&n&&(n=""!==e.trim()),n},pe=function(e){var t=!0;for(var n in e)e.hasOwnProperty(n)&&(t=e[n].valid&&t);return t},fe=n(35),Oe=n.n(fe),ve=function(e){var t=e.type||"text",n=[Oe.a.Input],r=function(e){var t=e.touched,n=e.valid,r=e.shouldValidate;return!n&&r&&t};return r(e)&&n.push(Oe.a.invalid),Object(V.jsxs)("div",{className:n.join(" "),children:[Object(V.jsx)("label",{children:e.label}),Object(V.jsx)("input",{type:t,value:e.value,onChange:e.onChange}),r(e)&&Object(V.jsx)("span",{children:e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"})]})},me=n(54),xe=n.n(me),ge=function(e){var t=e.label+Math.random();return Object(V.jsxs)("div",{className:xe.a.Select,children:[Object(V.jsx)("label",{htmlFor:t,children:e.label}),Object(V.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(V.jsx)("option",{value:e.value,children:e.text},t)}))})]})},_e=ae.a.create({baseURL:"https://quiz-react-app-3094a-default-rtdb.firebaseio.com/"}),we=function(e){return he({label:"\u041e\u0442\u0432\u0435\u0442 ".concat(e),errorMessage:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",id:e},{required:!0})},ze=function(){return{question:he({label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441",errorMessage:"\u0412\u043e\u043f\u0440\u043e\u0441 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},{required:!0}),option1:we(1),option2:we(2),option3:we(3),option4:we(4)}},Ce=function(e){Object(N.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={rightAnswer:1,isFormValid:!1,formControls:ze()},e.onChangeHandler=function(t,n){var r=Object(o.a)({},e.state.formControls),a=Object(o.a)({},r[n]);a.value=t,a.touched=!0,a.valid=be(a.value,a.validation),r[n]=a,e.setState({formControls:r,isFormValid:pe(r)})},e.onSubmitHandler=function(e){e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=e.state.formControls,r=n.question,a=n.option1,i=n.option2,s=n.option3,c=n.option4;e.props.addQuestion({id:e.props.quiz.length+1,question:r.value,rightAnswer:+e.state.rightAnswer,answers:[{text:a.value,id:a.id},{text:i.value,id:i.id},{text:s.value,id:s.id},{text:c.value,id:c.id}]}),e.setState({rightAnswer:1,isFormValid:!1,formControls:ze()})},e.createQuizHandler=function(){var t=Object(ne.a)(te.a.mark((function t(n){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.props.quizCreate(),e.setState({rightAnswer:1,isFormValid:!1,formControls:ze()});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.renderFormControls=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(V.jsxs)(a.a.Fragment,{children:[Object(V.jsx)(ve,{label:r.label,errorMessage:r.errorMessage,valid:r.valid,shouldValidate:!!r.validation,touched:r.touched,value:r.value,onChange:function(n){e.onChangeHandler(n.target.value,t)}}),0===n&&Object(V.jsx)("hr",{})]},n)}))},e.changeAnswerHandler=function(t){e.setState({rightAnswer:t.target.value})},e}return Object(F.a)(n,[{key:"render",value:function(){var e=Object(V.jsx)(ge,{label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",value:this.state.rightAnswer,onChange:this.changeAnswerHandler,options:[{value:1,text:1},{value:2,text:2},{value:3,text:3},{value:4,text:4}]});return Object(V.jsx)("div",{className:je.a.QuizCreator,children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{className:"mainTitle",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(V.jsxs)("form",{onSubmit:this.onSubmitHandler,children:[this.renderFormControls(),e,Object(V.jsx)(Y,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(V.jsx)(Y,{type:"success",onClick:this.createQuizHandler,disabled:0===this.props.quiz.length,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),Object(V.jsxs)("div",{children:["\u0412\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ",this.props.quiz.length]})]})]})})}}]),n}(a.a.Component),qe=Object($.b)((function(e){return{quiz:e.create.quiz}}),{addQuestion:function(e){return{type:O,newQuestion:e}},quizCreate:function(){return function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().quizCreator,e.prev=1,e.next=4,_e.post("quizes.json",r.quiz);case 4:t({type:v}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),alert("\u041a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()}})(Ce),ye=n(55),ke=n.n(ye),Se=n(21),Ae=function(){return{type:u}},Qe=function(e){return{type:l,payload:e}},Te=function(e){return{type:j,error:e}},Ie=function(e,t){return{type:h,answerState:e,results:t}},Fe=function(){return{type:f}},Ne=function(e){return function(t,n){var r=n().quiz;if(r.answerState){var a=Object.keys(r.answerState)[0];if("success"===r.answerState[a])return}var i=r.quiz[r.activeQuestion],s=Object(o.a)({},r.results);if(i.rightAnswer===e){s[i.id]||(s[i.id]="success"),t(Ie(Object(Se.a)({},e,"success"),s));var c=window.setTimeout((function(){u()?t({type:p}):t({type:b}),window.clearTimeout(c)}),1e3)}else s[i.id]="error",t(Ie(Object(Se.a)({},e,"error"),s));var u=function(){return r.activeQuestion+1===r.quiz.length}}},Ee=n(19),Le=n.n(Ee),He=function(e){return Object(V.jsxs)("div",{className:Le.a.Preloader,children:[Object(V.jsx)("div",{className:Le.a.inner+" "+Le.a.one}),Object(V.jsx)("div",{className:Le.a.inner+" "+Le.a.two}),Object(V.jsx)("div",{className:Le.a.inner+" "+Le.a.three})]})},De=function(e){var t=Object($.c)(),n=Object($.d)((function(e){return e.quiz.isFetch})),a=Object($.d)((function(e){return e.quiz.quizes}));Object(r.useEffect)((function(){t(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ae()),e.prev=1,e.next=4,_e.get("quizes.json");case 4:n=e.sent,r=Object.keys(n.data).map((function(e){return{id:e}})),t(Qe(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Te(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(V.jsx)("div",{className:ke.a.QuizList,children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{className:"mainTitle",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"}),n?Object(V.jsx)(He,{}):Object(V.jsx)("ul",{children:0!==Object.keys(a).length?a.map((function(e,t){return Object(V.jsx)("li",{children:Object(V.jsxs)(P.b,{to:"/quiz/"+e.id,children:["\u0422\u0435\u0441\u0442 \u2116 ",t+1]})},t)})):Object(V.jsxs)("div",{style:{color:"white",textAlign:"center"},children:[Object(V.jsx)("h3",{style:{marginBottom:"0"},children:"\u0422\u0435\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}),Object(V.jsx)("h4",{style:{marginTop:"0"},children:"\u0411\u0443\u0434\u0443\u0442 \u043f\u043e\u0437\u0436\u0435"})]})})]})})},Me=n(36),Ve=n.n(Me),Re=n(56),Ue=n.n(Re),Be=function(e){Object(N.a)(n,e);var t=Object(E.a)(n);function n(){var e;Object(I.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"",valid:!1,touched:!1,validation:{required:!0,email:!0,maxLength:25}},password:{value:"",type:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",errorMessage:"",valid:!1,touched:!1,validation:{required:!0,minLength:6,maxLength:50}}}},e.submitHandler=function(e){e.preventDefault()},e.validateControl=function(e,t){if(!t)return!0;var n=!0;if(t.required){if(""===e.trim())return{isValid:!1,errorMessage:"\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"};n=!0}if(t.email){if(!Ue.a.email(e))return{isValid:!1,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"};n=!0}if(t.minLength){if(!(e.trim().length>=t.minLength))return{isValid:!1,errorMessage:"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(t.minLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")};n=!0}if(t.maxLength){if(!(e.trim().length<t.maxLength))return{isValid:!1,errorMessage:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u043d\u0430 ".concat(t.maxLength," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")};n=!0}return{isValid:n}},e.onChangeHandler=function(t,n){var r=Object(o.a)({},e.state.formControls),a=Object(o.a)({},r[n]);a.value=t.target.value,a.touched=!0;var i=e.validateControl(a.value,a.validation);a.valid=i.isValid,a.errorMessage=i.errorMessage,r[n]=a;var s=!0;Object.keys(r).forEach((function(e){s=r[e].valid&&s})),e.setState({formControls:r,isFormValid:s})},e.inputRenderHandler=function(){return Object.keys(e.state.formControls).map((function(t,n){var r=e.state.formControls[t];return Object(V.jsx)(ve,{value:r.value,onChange:function(n){e.onChangeHandler(n,t)},type:r.type,label:r.label,errorMessage:r.errorMessage,valid:r.valid,touched:r.touched,shouldValidate:!!r.validation},t+n)}))},e.loginHandler=function(){e.props.login(e.state.formControls.email.value,e.state.formControls.password.value,!0)},e.registerHandler=function(){e.props.login(e.state.formControls.email.value,e.state.formControls.password.value)},e}return Object(F.a)(n,[{key:"render",value:function(){return Object(V.jsx)("div",{className:Ve.a.Auth,children:Object(V.jsxs)("div",{children:[Object(V.jsx)("h1",{className:"mainTitle",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(V.jsxs)("form",{className:Ve.a.authForm,onSubmit:this.submitHandler,children:[this.inputRenderHandler(),Object(V.jsx)(Y,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(V.jsx)(Y,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})})}}]),n}(a.a.Component),Pe=Object($.b)(null,(function(e){return{login:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(ne.a)(te.a.mark((function r(a){var i,s,c,o,u;return te.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={email:e,password:t,returnSecureToken:!0},s="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBw1voB5XeccAUeeQByIgJKRRhcjoNOR3I",n&&(s="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBw1voB5XeccAUeeQByIgJKRRhcjoNOR3I"),r.prev=3,r.next=6,ae.a.post(s,i);case 6:c=r.sent,o=c.data,u=new Date((new Date).getTime()+1e3*o.expiresIn),localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("expirationDate",u),a(se(c.data.idToken)),a(oe(o.expiresIn)),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(3),console.error(r.t0);case 19:case"end":return r.stop()}}),r,null,[[3,16]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))}}}))(Be),Ze=n(37),Xe=n.n(Ze),Je=n(38),We=n.n(Je),Ke=n(57),Ye=n.n(Ke),Ge=n(39),$e=n.n(Ge),et=function(e){var t=[$e.a.AnswerItem];return e.answerState&&t.push($e.a[e.answerState]),Object(V.jsx)("li",{className:t.join(" "),onClick:function(){e.onAnswerClick(e.answer.id)},children:e.answer.text})},tt=function(e){return Object(V.jsx)("ul",{className:Ye.a.AnswersList,children:e.answers.map((function(t,n){return Object(V.jsx)(et,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},nt=Object(T.g)((function(e){return Object(V.jsxs)("div",{className:We.a.ActiveQuiz,children:[Object(V.jsxs)("p",{className:We.a.Question,children:[Object(V.jsxs)("span",{children:[Object(V.jsxs)("strong",{children:[e.questionNumber,"."]}),"\xa0 ",e.question]}),Object(V.jsxs)("small",{children:[e.questionNumber," \u0438\u0437 ",e.quizLengh]})]}),Object(V.jsx)(tt,{answers:e.answers,onAnswerClick:e.onAnswerClick,answerState:e.answerState})]})})),rt=n(40),at=n.n(rt),it=Object(T.g)((function(e){var t=Object.keys(e.results).filter((function(t){return"success"===e.results[t]}));return Object(r.useEffect)((function(){return e.onRestart})),Object(V.jsxs)("div",{className:at.a.FinishedQuiz,children:[Object(V.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["fa","success"===e.results[t.id]?"fa fa-check":"fa fa-times",at.a[e.results[t.id]]];return Object(V.jsxs)("li",{children:[Object(V.jsx)("strong",{children:n+1}),"\xa0",t.question,Object(V.jsx)("i",{className:r.join(" ")})]},t.id)}))}),Object(V.jsxs)("p",{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e ",t.length," \u0438\u0437 ",e.quizLengh]}),Object(V.jsxs)("div",{children:[Object(V.jsx)(Y,{onClick:e.onRestart,type:"primary",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"}),Object(V.jsx)(Y,{onClick:function(){e.history.push({pathname:"/"})},type:"success",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0442\u0435\u0441\u0442\u043e\u0432"})]})]})})),st=function(e){var t=Object($.c)(),n=Object($.d)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,isFetch:e.quiz.isFetch}}));return Object(r.useEffect)((function(){var n;return t((n=e.match.params.id,function(){var e=Object(ne.a)(te.a.mark((function e(t){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ae()),e.prev=1,e.next=4,_e.get("quizes/".concat(n,".json"));case 4:r=e.sent,t((a=r.data,{type:d,payload:a})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Te(e.t0));case 11:case"end":return e.stop()}var a}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),function(){t(Fe())}}),[t,e.match.params.id]),Object(V.jsx)("div",{className:Xe.a.Quiz,children:Object(V.jsxs)("div",{className:Xe.a.QuizWrapper,children:[Object(V.jsx)("h1",{className:"mainTitle",children:"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"}),n.isFetch||!n.quiz?Object(V.jsx)(He,{}):Object(V.jsx)(V.Fragment,{children:n.isFinished?Object(V.jsx)(it,{quizLengh:n.quiz.length,quiz:n.quiz,results:n.results,onRestart:function(){return t(Fe())}}):Object(V.jsx)(nt,{question:n.quiz[n.activeQuestion].question,answers:n.quiz[n.activeQuestion].answers,onAnswerClick:function(e){return t(Ne(e))},quizLengh:n.quiz.length,questionNumber:n.activeQuestion+1,answerState:n.answerState})})]})})},ct=Object(T.g)((function(){var e=Object($.d)((function(e){return!!e.auth.token})),t=Object($.c)();Object(r.useEffect)((function(){t((function(e){var t=localStorage.getItem("token"),n=(new Date).getTime(),r=new Date(localStorage.getItem("expirationDate")).getTime(),a=(r-n)/1e3;t?n>r?e(ce()):(e(se(t)),e(oe(a))):e(ce())}))}),[t]);var n=[Object(V.jsxs)(T.d,{children:[Object(V.jsx)(T.b,{path:"/auth",component:Pe}),",",Object(V.jsx)(T.b,{path:"/quiz/:id",component:st}),",",Object(V.jsx)(T.b,{exact:!0,path:"/",component:De}),",",Object(V.jsx)(T.a,{to:"/"})]},"switch")];return e&&(n=[Object(V.jsxs)(T.d,{children:[Object(V.jsx)(T.b,{path:"/quiz-creator",component:qe}),",",Object(V.jsx)(T.b,{path:"/quiz/:id",component:st}),",",Object(V.jsx)(T.b,{path:"/logout",component:ie}),",",Object(V.jsx)(T.b,{exact:!0,path:"/",component:De}),",",Object(V.jsx)(T.a,{to:"/"})]},"switch")]),Object(V.jsx)(le,{children:n})})),ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),i(e),s(e)}))},ut=Object(V.jsx)($.a,{store:Q,children:Object(V.jsx)(P.a,{children:Object(V.jsx)(ct,{})})});s.a.render(Object(V.jsx)(a.a.StrictMode,{children:ut}),document.getElementById("root")),ot()}},[[89,1,2]]]);
//# sourceMappingURL=main.7e62254e.chunk.js.map