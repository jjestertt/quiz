(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{20:function(e,t,n){e.exports={Preloader:"Preloader_Preloader__13zsU",inner:"Preloader_inner__1SMf8",one:"Preloader_one__1dTte","cssload-rotate-one":"Preloader_cssload-rotate-one__3X2V9",two:"Preloader_two__Q_uDB","cssload-rotate-two":"Preloader_cssload-rotate-two__2N_HN",three:"Preloader_three__2wnFm","cssload-rotate-three":"Preloader_cssload-rotate-three__14D_5"}},34:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__k9oZ1",open:"Drawer_open__3ZQEA",active:"Drawer_active__2oACK",logout:"Drawer_logout__1YKq6"}},35:function(e,t,n){e.exports={TotalError:"TotalError_TotalError__2rR4c",errorClose:"TotalError_errorClose__S3XGU",active:"TotalError_active__3eYY5"}},39:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__21_pH",open:"MenuToggle_open__3GTM9"}},40:function(e,t,n){e.exports={Button:"Button_Button__2Ajf-",error:"Button_error__A4xET",success:"Button_success__qdwm8",primary:"Button_primary__CVuDV"}},43:function(e,t,n){e.exports={Input:"Input_Input__SNRl4",invalid:"Input_invalid__1ZOur"}},44:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__2THIz",QuizWrapper:"Quiz_QuizWrapper__2wTef"}},45:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__2OH8k",Question:"ActiveQuiz_Question__3-k9k"}},46:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__uovHA",error:"AnswerItem_error__2qb2c",success:"AnswerItem_success__XCXzE"}},47:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__2aARn",error:"FinishedQuiz_error__2PlTT",success:"FinishedQuiz_success__2EeEd"}},58:function(e,t,n){e.exports={Layout:"Layout_Layout__ACkHP"}},59:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__Vem4f"}},60:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__2CeNk"}},63:function(e,t,n){e.exports={Select:"Select_Select__26ooE"}},64:function(e,t,n){e.exports={QuizList:"QuizList_QuizList__EsJjC"}},65:function(e,t,n){e.exports={Auth:"Auth_Auth__7JmWy"}},66:function(e,t,n){e.exports={authForm:"AuthForm_authForm__Kpi7F"}},67:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__1ulOJ"}},73:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(25),a=n.n(c),s=n(18),o=n(2),u="quiz/FETCH_QUIZ_START",l="quiz/FETCH_QUIZ_SUCCESS",j="quiz/FETCH_QUIZ_BY_ID_SUCCESS",d="quiz/SET_QUIZ_ERROR",b="quiz/QUIZ_SET_STATE",p="quiz/NEXT_QUESTION",h="quiz/QUIZ_FINISHED",O="quiz/QUIZ_RETRY",f="quizCreator/ADD_QUESTION",x="quizCreator/QUIZ_CLEAR",_="auth/AUTH_SUCCESS",m="auth/AUTH_LOGOUT",v={error:null,isFetch:!1,quizes:[],results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!0});case l:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,quizes:t.payload});case j:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,quiz:t.payload});case d:return Object(o.a)(Object(o.a)({},e),{},{isFetch:!1,error:t.error});case b:return Object(o.a)(Object(o.a)({},e),{},{answerState:t.answerState,results:t.results});case p:return Object(o.a)(Object(o.a)({},e),{},{activeQuestion:e.activeQuestion+1,answerState:null});case h:return Object(o.a)(Object(o.a)({},e),{},{isFinished:!0});case O:return Object(o.a)(Object(o.a)({},e),{},{isFinished:!1,activeQuestion:0,answerState:null,results:{}});default:return e}},g=n(68),z={quiz:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{quiz:[].concat(Object(g.a)(e.quiz),[t.newQuestion])});case x:return Object(o.a)(Object(o.a)({},e),{},{quiz:e.quiz.filter((function(){return!1}))});default:return e}},q={token:null},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(o.a)(Object(o.a)({},e),{},{token:t.token});case m:return Object(o.a)(Object(o.a)({},e),{},{token:null});default:return e}},S=Object(s.c)({quiz:w,create:y,auth:k}),Q=n(57),A=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.d)(Object(s.a)(Q.a)),C=Object(s.e)(S,A),T=(n(73),n(4)),E=n(27),I=n(28),N=n(33),F=n(32),L=n(58),H=n.n(L),D=n(39),U=n.n(D),R=n(1),B=function(e){var t=[U.a.MenuToggle,"fa"];return e.isOpen?(t.push(U.a.open),t.push("fa-times")):t.push("fa-bars"),Object(R.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},P=n(34),Z=n.n(P),M=n(14),X=n(59),V=n.n(X),J=function(e){return Object(R.jsx)("div",{className:V.a.Backdrop,onClick:e.onClick})},K=n(40),W=n.n(K),Y=function(e){var t=[W.a.Button,W.a[e.type]];return Object(R.jsx)("button",Object(o.a)(Object(o.a)({onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e),{},{children:e.children}))},G=function(e){Object(N.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderLinks=function(t){return t.map((function(t,n){return Object(R.jsx)("li",{children:Object(R.jsx)(M.b,{exact:t.exact,to:t.to,activeClassName:Z.a.active,onClick:e.props.onClick,children:t.label})},n)}))},e}return Object(I.a)(n,[{key:"render",value:function(){var e=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432",exact:!0},{to:"/auth",label:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",exact:!1}];return this.props.isAuth&&(e=[{to:"/",label:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432",exact:!0},{to:"/quiz-creator",label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0435\u0441\u0442",exact:!1}]),Object(R.jsxs)(R.Fragment,{children:[this.props.isOpen&&Object(R.jsx)(J,{onClick:this.props.onClick}),Object(R.jsxs)("nav",{className:Z.a.Drawer+" "+(this.props.isOpen&&Z.a.open),children:[Object(R.jsx)("ul",{children:this.renderLinks(e)}),this.props.isAuth&&Object(R.jsx)(M.b,{to:"/logout",children:Object(R.jsx)(Y,{style:{marginLeft:20},type:"error",children:"\u0412\u044b\u0439\u0442\u0438"})})]})]})}}]),n}(i.a.Component),$=n(5),ee=n(13),te=n.n(ee),ne=n(21),re=n(29),ie=n.n(re),ce=n(23),ae=ie.a.create({baseURL:"https://quiz-react-app-3094a-default-rtdb.firebaseio.com/"}),se=function(){return{type:u}},oe=function(e){return{type:l,payload:e}},ue=function(e){return{type:d,error:e}},le=function(e,t){return{type:b,answerState:e,results:t}},je=function(){return{type:O}},de=function(e){return function(t){t(ue(e)),setTimeout((function(){t(ue(null))}),5e3)}},be=function(e){return function(t,n){var r=n().quiz;if(r.answerState){var i=Object.keys(r.answerState)[0];if("success"===r.answerState[i])return}var c=r.quiz[r.activeQuestion],a=Object(o.a)({},r.results);if(c.rightAnswer===e){a[c.id]||(a[c.id]="success"),t(le(Object(ce.a)({},e,"success"),a));var s=window.setTimeout((function(){u()?t({type:h}):t({type:p}),window.clearTimeout(s)}),1e3)}else a[c.id]="error",t(le(Object(ce.a)({},e,"error"),a));var u=function(){return r.activeQuestion+1===r.quiz.length}}},pe=function(e){return{type:_,token:e}},he=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:m}},Oe=function(e){return function(t){setTimeout((function(){t(he())}),1e3*e)}},fe=function(e,t,n){return function(){var r=Object(ne.a)(te.a.mark((function r(i){var c,a,s,o,u;return te.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={email:e,password:t,returnSecureToken:!0},a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBw1voB5XeccAUeeQByIgJKRRhcjoNOR3I",n&&(a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBw1voB5XeccAUeeQByIgJKRRhcjoNOR3I"),r.prev=3,r.next=6,ie.a.post(a,c);case 6:s=r.sent,o=s.data,u=new Date((new Date).getTime()+1e3*o.expiresIn),localStorage.setItem("token",o.idToken),localStorage.setItem("userId",o.localId),localStorage.setItem("expirationDate",u),i(pe(s.data.idToken)),i(Oe(o.expiresIn)),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(3),i(de("\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"));case 19:case"end":return r.stop()}}),r,null,[[3,16]])})));return function(e){return r.apply(this,arguments)}}()},xe=n(35),_e=n.n(xe),me=function(e){var t=[_e.a.TotalError];return e.error&&t.push(_e.a.active),Object(R.jsxs)("div",{className:t.join(" "),children:[Object(R.jsx)("i",{onClick:e.closeErrorHandler,className:_e.a.errorClose+" fa fa-times"}),!!e.error&&Object(R.jsx)("span",{children:e.error})]})},ve=function(e){Object(N.a)(n,e);var t=Object(F.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={menu:!1},e.menuToggleHandler=function(){e.setState({menu:!e.state.menu})},e.menuCloseHandler=function(){e.setState({menu:!1})},e.closeErrorHandler=function(){e.props.fetchQuizError(null)},e}return Object(I.a)(n,[{key:"render",value:function(){return Object(R.jsxs)("div",{className:H.a.Layout,children:[Object(R.jsx)(G,{isOpen:this.state.menu,onClick:this.menuCloseHandler,isAuth:this.props.isAuth,authLogout:this.props.authLogout}),Object(R.jsx)(B,{isOpen:this.state.menu,onToggle:this.menuToggleHandler}),Object(R.jsx)(me,{closeErrorHandler:this.closeErrorHandler,error:this.props.error}),Object(R.jsx)("main",{children:this.props.children})]})}}]),n}(i.a.Component),we=Object($.b)((function(e){return{isAuth:!!e.auth.token,error:e.quiz.error}}),{authLogout:he,fetchQuizError:ue})(ve),ge=n(60),ze=n.n(ge),ye=function(){return{type:x}},qe=n(17),ke=function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 Email"):t.email="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",e.password?e.password.length<6&&(t.password="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):t.password="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",t},Se=function(e){var t={};return Object.keys(e).forEach((function(n){e[n]||(t[n]="\u041f\u043e\u043b\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")})),t},Qe=n(43),Ae=n.n(Qe),Ce=function(e){var t=e.type||"text",n=function(e){return e.touched&&e.error};return Object(R.jsx)(qe.a,{name:e.name,children:function(r){var i=r.field,c=r.meta;return Object(R.jsxs)("div",{className:"".concat(Ae.a.Input," ").concat(n(c)&&Ae.a.invalid),children:[Object(R.jsx)("label",{htmlFor:e.id,children:e.label}),Object(R.jsx)("input",Object(o.a)({id:e.id,type:t},i)),n(c)&&Object(R.jsx)("span",{children:c.error})]})}})},Te=n(63),Ee=n.n(Te),Ie=function(e){var t=e.label+Math.random();return Object(R.jsxs)("div",{className:Ee.a.Select,children:[Object(R.jsx)("label",{htmlFor:t,children:e.label}),Object(R.jsx)("select",Object(o.a)(Object(o.a)({name:e.name,id:t},e),{},{children:e.options.map((function(e,t){return Object(R.jsx)("option",{children:e.text},t)}))}))]})},Ne=function(e){var t=e.createQuizHandler,n=e.addQuestionHandler,r=e.quiz;return Object(R.jsx)(qe.c,{initialValues:{rightAnswer:"1",question:"",option1:"",option2:"",option3:"",option4:""},validate:Se,onSubmit:function(){return null},children:function(e){var i=e.values,c=e.isValid,a=e.dirty,s=e.handleReset;return Object(R.jsxs)(qe.b,{children:[Object(R.jsx)(Ce,{id:"question",type:"text",name:"question",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(R.jsx)(Ce,{id:"1",type:"text",name:"option1",label:"\u041e\u0442\u0432\u0435\u0442 1"}),Object(R.jsx)(Ce,{id:"2",type:"text",name:"option2",label:"\u041e\u0442\u0432\u0435\u0442 2"}),Object(R.jsx)(Ce,{id:"3",type:"text",name:"option3",label:"\u041e\u0442\u0432\u0435\u0442 3"}),Object(R.jsx)(Ce,{id:"4",type:"text",name:"option4",label:"\u041e\u0442\u0432\u0435\u0442 4"}),Object(R.jsx)(qe.a,{name:"rightAnswer",as:Ie,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442",options:[{value:1,text:1},{value:2,text:2},{value:3,text:3},{value:4,text:4}]}),Object(R.jsx)(Y,{type:"primary",disabled:!(c&&a),onClick:function(){n(c,a,i),s()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(R.jsx)(Y,{type:"success",disabled:0===r.length,onClick:function(e){e.preventDefault(),t(),s()},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),Object(R.jsxs)("div",{children:["\u0412\u043e\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e ",r.length]})]})}})},Fe=function(){var e=Object($.c)(),t=Object($.d)((function(e){return e.create.quiz}));Object(r.useEffect)((function(){return function(){e(ye())}}),[e]);return Object(R.jsx)("div",{className:ze.a.QuizCreator,children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{className:"mainTitle",children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"}),Object(R.jsx)(Ne,{addQuestionHandler:function(n,r,i){var c;n&&r&&e((c={id:t.length+1,question:i.question,rightAnswer:+i.rightAnswer,answers:[{text:i.option1,id:1},{text:i.option2,id:2},{text:i.option3,id:3},{text:i.option4,id:4}]},{type:f,newQuestion:c}))},createQuizHandler:function(){e(function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().create,e.prev=1,e.next=4,ae.post("quizes.json",r.quiz);case 4:t(ye()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),alert("\u041a\u0430\u043a\u0430\u044f-\u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430");case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}())},quiz:t})]})})},Le=n(64),He=n.n(Le),De=n(20),Ue=n.n(De),Re=function(e){return Object(R.jsxs)("div",{className:Ue.a.Preloader,children:[Object(R.jsx)("div",{className:Ue.a.inner+" "+Ue.a.one}),Object(R.jsx)("div",{className:Ue.a.inner+" "+Ue.a.two}),Object(R.jsx)("div",{className:Ue.a.inner+" "+Ue.a.three})]})},Be=function(e){var t=Object($.c)(),n=Object($.d)((function(e){return e.quiz.isFetch})),i=Object($.d)((function(e){return e.quiz.quizes}));Object(r.useEffect)((function(){return t(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se()),e.prev=1,e.next=4,ae.get("quizes.json");case 4:n=e.sent,r=Object.keys(n.data).map((function(e){return{id:e}})),t(oe(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(de("\u0422\u0435\u0441\u0442\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()),function(){t(ue(null))}}),[t]);return Object(R.jsx)("div",{className:He.a.QuizList,children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{className:"mainTitle",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0435\u0441\u0442\u043e\u0432"}),n?Object(R.jsx)(Re,{}):Object(R.jsx)("ul",{children:0!==Object.keys(i).length?i.map((function(e,t){return Object(R.jsx)("li",{children:Object(R.jsxs)(M.b,{to:"/quiz/"+e.id,children:["\u0422\u0435\u0441\u0442 \u2116 ",t+1]})},t)})):Object(R.jsxs)("div",{style:{color:"white",textAlign:"center"},children:[Object(R.jsx)("h3",{style:{marginBottom:"0"},children:"\u0422\u0435\u0441\u0442\u043e\u0432 \u043d\u0435\u0442"}),Object(R.jsx)("p",{style:{margin:0,marginTop:10},children:"\u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0439 \u0442\u0435\u0441\u0442"}),Object(R.jsx)("p",{style:{margin:"0"},children:"\u041f\u0440\u043e\u0439\u0434\u0438\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e"})]})})]})})},Pe=n(65),Ze=n.n(Pe),Me=n(66),Xe=n.n(Me),Ve=function(e){var t=e.loginHandler,n=e.registerHandler;return Object(R.jsx)("div",{className:Xe.a.authForm,children:Object(R.jsx)(qe.c,{initialValues:{email:"",password:""},validate:ke,onSubmit:function(){},children:function(e){var r=e.values,i=e.isValid,c=e.dirty;return Object(R.jsxs)(qe.b,{children:[Object(R.jsx)(Ce,{id:"email",name:"email",label:"Email",type:"email"}),Object(R.jsx)(Ce,{id:"password",name:"password",label:"Password",type:"password"}),Object(R.jsx)(Y,{type:"success",onClick:function(){return function(e,n,r){e&&n&&t(r)}(i,c,r)},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(R.jsx)(Y,{type:"primary",onClick:function(){return function(e,t,r){e&&t&&n(r)}(i,c,r)},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})}})})},Je=function(){var e=Object($.c)();return Object(r.useEffect)((function(){return function(){e(ue(null))}})),Object(R.jsx)("div",{className:Ze.a.Auth,children:Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{className:"mainTitle",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(R.jsx)(Ve,{loginHandler:function(t){e(fe(t.email,t.password,!0))},registerHandler:function(t){e(fe(t.email,t.password))}})]})})},Ke=n(44),We=n.n(Ke),Ye=n(45),Ge=n.n(Ye),$e=n(67),et=n.n($e),tt=n(46),nt=n.n(tt),rt=function(e){var t=[nt.a.AnswerItem];return e.answerState&&t.push(nt.a[e.answerState]),Object(R.jsx)("li",{className:t.join(" "),onClick:function(){e.onAnswerClick(e.answer.id)},children:e.answer.text})},it=function(e){return Object(R.jsx)("ul",{className:et.a.AnswersList,children:e.answers.map((function(t,n){return Object(R.jsx)(rt,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},ct=Object(T.g)((function(e){return Object(R.jsxs)("div",{className:Ge.a.ActiveQuiz,children:[Object(R.jsxs)("p",{className:Ge.a.Question,children:[Object(R.jsxs)("span",{children:[Object(R.jsxs)("strong",{children:[e.questionNumber,"."]}),"\xa0 ",e.question]}),Object(R.jsxs)("small",{children:[e.questionNumber," \u0438\u0437 ",e.quizLengh]})]}),Object(R.jsx)(it,{answers:e.answers,onAnswerClick:e.onAnswerClick,answerState:e.answerState})]})})),at=n(47),st=n.n(at),ot=Object(T.g)((function(e){var t=Object.keys(e.results).filter((function(t){return"success"===e.results[t]}));return Object(r.useEffect)((function(){return e.onRestart})),Object(R.jsxs)("div",{className:st.a.FinishedQuiz,children:[Object(R.jsx)("ul",{children:e.quiz.map((function(t,n){var r=["fa","success"===e.results[t.id]?"fa fa-check":"fa fa-times",st.a[e.results[t.id]]];return Object(R.jsxs)("li",{children:[Object(R.jsx)("strong",{children:n+1}),"\xa0",t.question,Object(R.jsx)("i",{className:r.join(" ")})]},t.id)}))}),Object(R.jsxs)("p",{children:["\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e ",t.length," \u0438\u0437 ",e.quizLengh]}),Object(R.jsxs)("div",{children:[Object(R.jsx)(Y,{onClick:e.onRestart,type:"primary",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c"}),Object(R.jsx)(Y,{onClick:function(){e.history.push({pathname:"/"})},type:"success",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0442\u0435\u0441\u0442\u043e\u0432"})]})]})})),ut=function(e){var t=Object($.c)(),n=Object($.d)((function(e){return{results:e.quiz.results,isFinished:e.quiz.isFinished,activeQuestion:e.quiz.activeQuestion,answerState:e.quiz.answerState,quiz:e.quiz.quiz,isFetch:e.quiz.isFetch}}));return Object(r.useEffect)((function(){var n;return t((n=e.match.params.id,function(){var e=Object(ne.a)(te.a.mark((function e(t){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se()),e.prev=1,e.next=4,ae.get("quizes/".concat(n,".json"));case 4:r=e.sent,t((i=r.data,{type:j,payload:i})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(de("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432"));case 11:case"end":return e.stop()}var i}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())),function(){t(je())}}),[t,e.match.params.id]),Object(R.jsx)("div",{className:We.a.Quiz,children:Object(R.jsxs)("div",{className:We.a.QuizWrapper,children:[Object(R.jsx)("h1",{className:"mainTitle",children:"\u041e\u0442\u0432\u0435\u0442\u044c\u0442\u0435 \u043d\u0430 \u0432\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b"}),n.isFetch||!n.quiz?Object(R.jsx)(Re,{}):Object(R.jsx)(R.Fragment,{children:n.isFinished?Object(R.jsx)(ot,{quizLengh:n.quiz.length,quiz:n.quiz,results:n.results,onRestart:function(){return t(je())}}):Object(R.jsx)(ct,{question:n.quiz[n.activeQuestion].question,answers:n.quiz[n.activeQuestion].answers,onAnswerClick:function(e){return t(be(e))},quizLengh:n.quiz.length,questionNumber:n.activeQuestion+1,answerState:n.answerState})})]})})},lt=function(e){var t=Object($.c)();return Object(r.useEffect)((function(){t(he())}),[t]),Object(R.jsx)(T.a,{to:"/"})},jt=Object(T.g)((function(){var e=Object($.d)((function(e){return!!e.auth.token})),t=Object($.c)();Object(r.useEffect)((function(){t((function(e){var t=localStorage.getItem("token"),n=(new Date).getTime(),r=new Date(localStorage.getItem("expirationDate")).getTime(),i=(r-n)/1e3;t?n>r?e(he()):(e(pe(t)),e(Oe(i))):e(he())}))}),[t]);var n=[Object(R.jsxs)(T.d,{children:[Object(R.jsx)(T.b,{path:"/auth",component:Je}),",",Object(R.jsx)(T.b,{path:"/quiz/:id",component:ut}),",",Object(R.jsx)(T.b,{exact:!0,path:"/",component:Be}),",",Object(R.jsx)(T.a,{to:"/"})]},"switch")];return e&&(n=[Object(R.jsxs)(T.d,{children:[Object(R.jsx)(T.b,{path:"/quiz-creator",component:Fe}),",",Object(R.jsx)(T.b,{path:"/quiz/:id",component:ut}),",",Object(R.jsx)(T.b,{path:"/logout",component:lt}),",",Object(R.jsx)(T.b,{exact:!0,path:"/",component:Be}),",",Object(R.jsx)(T.a,{to:"/"})]},"switch")]),Object(R.jsx)(we,{children:n})})),dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),c(e),a(e)}))};a.a.render(Object(R.jsx)(i.a.StrictMode,{children:Object(R.jsx)($.a,{store:C,children:Object(R.jsx)(M.a,{children:Object(R.jsx)(jt,{})})})}),document.getElementById("root")),dt()}},[[98,1,2]]]);
//# sourceMappingURL=main.c89877cc.chunk.js.map